# **Установка проекта**

Необходимо запустить mysql сервер с параметрами:
user: root
host: localhost

macOS:

```sh
brew services start mysql
```

# **Запуск проекта**

Запустить AAAAGLEBglebGLEBgleb.py

# **ВАЖНО!**

После того, как вы закончите работу в проекте, вам будет предложено очистить базу в терминале. Если вы не очистите базу, в ней останутся все данные, созданные при работе в проекте.

# **Очистка БД вручную**

**ВАЖНО!** Данный запрос удалит все роли и всех пользователей, кроме системных, а также удалит БД.

```sh
mysql> USE infosystem;
mysql> DELETE FROM mysql.user WHERE User NOT LIKE 'root' AND User NOT LIKE 'mysql%';
mysql> DROP DATABASE infosystem;
```

# **Проверка лабораторной работы в графическом интерфейсе**

1. При запуске приложения откроется окно "Вы хотите создать базу данных?".
   Нажмите "Да", если она еще не создана для этого проекта.
   Если это не так, то нажмите "Вход с вводом логина и пароля, после чего введите свои данные".

2. Выберите метод поключения к БД. Вам нужно ввести данные для входа в учетную запись root. После входа будет создана БД и заполнена тестовыми данными.

3. Далее предлагается войти в систему (как пользователь). Вот список пользователей (их username / password), которые создаются по умолчанию:

- Администратор базы данных: admin / 1
- Зритель: viewer / 1
- Импресарио: impresario / 1
- Менеджер событий: event_manager / 1

Предлагается войти в качестве администратора БД (admin / 1).

4. Перед вами открылось меню админа. Администратор может только создавать пользователей. Нажмите на кнопку "Создание пользователя".

5. Предлагается создать пользователя с ролью "Импресарио". Введите логин, пароль, пароль повторно и нажмите создать. Можно ввести второй раз пароль неверно, чтобы увидеть обработку ошибки.

6. После нажатия на "Создать" был создан пользователь и перед вами открылось главное меню.

7. Нажмите "Выйти из аккаунта".

8. Войдите в систему под аккаунтом, который вы только что создали.

9. Так как вы создали пользователя с ролью "импресарио", у вас есть возможность создавать события, создавать конкурсы и смотреть различную информацию. Далее предлагается создать событие. Нажмите "Создать событие".

10. Введите название, выберите жанр и импресарио. Если вы забудете что-то указать, появится окно с ошибкой.

11. Нажмите "Поиск подходящих событий". Выберите жанр и место проведения созданного вами события и нажмите "Поиск", Также можете найти свое событие без фильтров (или с одним из них).

12. Далее предлагается заполнить результаты конкурса. Нажмите "Создать конкурс". Введите название и выберите победителей. Один актер не может занимать сразу два места, это проверяется.

13. Можете выйти из аккаунта и зайти с данными: viewer / 1. Нажмите под этим пользователем "Результаты конкурсов", вы увидите созданный вами конкурс.

14. Также под аккаунтом viewer / 1 можно посмотреть страницы: "Поиск подходящих событий", "Информация об импресарио", "Страница зданий", "Результаты конкурсов". На всех страницах (кроме страницы зданий и конкурсов) присутствует фильтрация для более удобного поиска требуемой информации.

15. Зайдите под аккаунтом event_manager / 1, чтобы посмотреть статистику по событиям. Там будут отображены сборы, средняя оценка от зрителей и количество лайков, которые зрители поставили артистам, принимающим участие в культурном событии.

16. Нажмите "Выйти из аккаунта" и потом "Завершить работу".

17. В консоли вам будет предложено очистить базу (очистка не затронет системные роли).

# **Проверка лабораторной работы в терминале**

После создания и заполнения БД вы можете проверить то, что роли, пользователи, хранимые функции и процедуры действительно были созданы.

## **Проверка ролей и пользователей в терминале**

```sh
mysql> SELECT Host, User FROM mysql.user;
```

## **Проверка хранимых процедур терминале**

Так можно посмотреть хранимые процедуры, созданные в рамках данного проекта (при условии, что вы не очищали базу после завершения работы программы).

```sh
mysql> SHOW PROCEDURE STATUS WHERE db='infosystem';
```

## **Проверка хранимых функций в терминале**

Так можно посмотреть хранимые функции, созданные в рамках данного проекта (при условии, что вы не очищали базу после завершения работы программы).

```sh
mysql> use infosystem;
mysql> SHOW FUNCTION STATUS;
```
