# **Установка проекта**

Необходимо запустить mysql сервер с параметрами:
user: root
host: localhost

macOS:

```sh
brew services start mysql
```

# **Запуск проекта**

Запустить AAAAGLEBglebGLEBgleb.py

# **ВАЖНО!**

После того, как вы закончите работу в проекте, вам будет предложено очистить базу в терминале. Если вы не очистите базу, в ней останутся все данные, созданные при работе в проекте.

# **Очистка БД вручную**

**ВАЖНО!** Данный запрос удалит все роли и всех пользователей, кроме системных, а также удалит БД.

```sh
mysql> USE theatre;
mysql> DELETE FROM mysql.user WHERE User NOT LIKE 'root' AND User NOT LIKE 'mysql%';
mysql> DROP DATABASE theatre;
```

# **Проверка лабораторной работы в терминале**

## **Проверка ролей и пользователей в терминале**

```sh
mysql> SELECT Host, User FROM mysql.user;
```

## **Проверка хранимых процедур терминале**

Так можно посмотреть хранимые процедуры, созданные в рамках данного проекта (при условии, что вы не очищали базу после завершения работы программы).

```sh
mysql> SHOW PROCEDURE STATUS WHERE db='theatre';
```

## **Проверка хранимых функций в терминале**

Так можно посмотреть хранимые функции, созданные в рамках данного проекта (при условии, что вы не очищали базу после завершения работы программы).

```sh
mysql> use theatre;
mysql> SHOW FUNCTION STATUS;
```

# **Проверка лабораторной работы в графическом интерфейсе**

При запуске приложения откроется окно "Подключение к базе данных". Нажмите на "Вход по умолчанию", если ваши логин - root и пароль отутствует.
Если это не так, то нажмите "Вход с вводом логина и пароля, после чего введите свои данные".
Далее предлагается войти в систему. Вот список пользователей (их username / password), которые создаются по умолчанию:

- Администратор базы данных: admin / 1
- Зритель: viewer / 1
- Импресарио: impresario / 1
- Менеджер событий: event_manager / 1

В зависимости от роли вашего пользователя будет отображено название меню (на данный момент меняется только название меню для всех, кроме менеджера событий).

## **Проверка ролей и зрителей в графическом интерфейсе**

Чтобы проверить корректность работы ролей, требуется войти в систему под ролью "Зритель" и заметить, что кнопки "Создать событие" нет.
Выйдите из системы (нужно в главном меню нажать "Завершить работу" или закрыть окно с главным меню).
Войдите в систему с ролью "Менеджер событий" и проверьте, что появилась кнопка "Создать событие".

## **Проверка создания события**

Чтобы проверить данную функцию, зайдите под пользователем "Менеджер событий", потом нажмите "Создать событие". Введите данные и нажмите "Добавить". Вы будете перенаправлены в главное меню. Нажмите на кнопку "Показать события" и пролистайте список вниз (используйте колесико мыши). В самом конце появится событие, которое вы добавили. Обратите вниманание, что здесь отображаются названия события и жанра, имя и фамилия импресарио, а также дата создания записи. Последний столбец был добавлен триггером, остальные с помощью хранимой процедуры и запроса с JOIN. Данным пунктом вы проверили корректность их работы.
